/*
 * signal.c
 *
 *  Created on: Jun 7. 2018
 *      Author: seb
 */

#include "signal.h"


static float sig_vec[sig_len];

float Signal_Sample(uint32_t index){
	return sig_vec[index % sig_len];
}

void Signal_Init(void){
	// sin(50Hz), dt = 0.0001
	sig_vec[0]=0.0000;
	sig_vec[1]=0.0314;
	sig_vec[2]=0.0628;
	sig_vec[3]=0.0941;
	sig_vec[4]=0.1253;
	sig_vec[5]=0.1564;
	sig_vec[6]=0.1874;
	sig_vec[7]=0.2181;
	sig_vec[8]=0.2487;
	sig_vec[9]=0.2790;
	sig_vec[10]=0.3090;
	sig_vec[11]=0.3387;
	sig_vec[12]=0.3681;
	sig_vec[13]=0.3971;
	sig_vec[14]=0.4258;
	sig_vec[15]=0.4540;
	sig_vec[16]=0.4818;
	sig_vec[17]=0.5090;
	sig_vec[18]=0.5358;
	sig_vec[19]=0.5621;
	sig_vec[20]=0.5878;
	sig_vec[21]=0.6129;
	sig_vec[22]=0.6374;
	sig_vec[23]=0.6613;
	sig_vec[24]=0.6845;
	sig_vec[25]=0.7071;
	sig_vec[26]=0.7290;
	sig_vec[27]=0.7501;
	sig_vec[28]=0.7705;
	sig_vec[29]=0.7902;
	sig_vec[30]=0.8090;
	sig_vec[31]=0.8271;
	sig_vec[32]=0.8443;
	sig_vec[33]=0.8607;
	sig_vec[34]=0.8763;
	sig_vec[35]=0.8910;
	sig_vec[36]=0.9048;
	sig_vec[37]=0.9178;
	sig_vec[38]=0.9298;
	sig_vec[39]=0.9409;
	sig_vec[40]=0.9511;
	sig_vec[41]=0.9603;
	sig_vec[42]=0.9686;
	sig_vec[43]=0.9759;
	sig_vec[44]=0.9823;
	sig_vec[45]=0.9877;
	sig_vec[46]=0.9921;
	sig_vec[47]=0.9956;
	sig_vec[48]=0.9980;
	sig_vec[49]=0.9995;
	sig_vec[50]=1.0000;
	sig_vec[51]=0.9995;
	sig_vec[52]=0.9980;
	sig_vec[53]=0.9956;
	sig_vec[54]=0.9921;
	sig_vec[55]=0.9877;
	sig_vec[56]=0.9823;
	sig_vec[57]=0.9759;
	sig_vec[58]=0.9686;
	sig_vec[59]=0.9603;
	sig_vec[60]=0.9511;
	sig_vec[61]=0.9409;
	sig_vec[62]=0.9298;
	sig_vec[63]=0.9178;
	sig_vec[64]=0.9048;
	sig_vec[65]=0.8910;
	sig_vec[66]=0.8763;
	sig_vec[67]=0.8607;
	sig_vec[68]=0.8443;
	sig_vec[69]=0.8271;
	sig_vec[70]=0.8090;
	sig_vec[71]=0.7902;
	sig_vec[72]=0.7705;
	sig_vec[73]=0.7501;
	sig_vec[74]=0.7290;
	sig_vec[75]=0.7071;
	sig_vec[76]=0.6845;
	sig_vec[77]=0.6613;
	sig_vec[78]=0.6374;
	sig_vec[79]=0.6129;
	sig_vec[80]=0.5878;
	sig_vec[81]=0.5621;
	sig_vec[82]=0.5358;
	sig_vec[83]=0.5090;
	sig_vec[84]=0.4818;
	sig_vec[85]=0.4540;
	sig_vec[86]=0.4258;
	sig_vec[87]=0.3971;
	sig_vec[88]=0.3681;
	sig_vec[89]=0.3387;
	sig_vec[90]=0.3090;
	sig_vec[91]=0.2790;
	sig_vec[92]=0.2487;
	sig_vec[93]=0.2181;
	sig_vec[94]=0.1874;
	sig_vec[95]=0.1564;
	sig_vec[96]=0.1253;
	sig_vec[97]=0.0941;
	sig_vec[98]=0.0628;
	sig_vec[99]=0.0314;
	sig_vec[100]=0.0000;
	sig_vec[101]=-0.0314;
	sig_vec[102]=-0.0628;
	sig_vec[103]=-0.0941;
	sig_vec[104]=-0.1253;
	sig_vec[105]=-0.1564;
	sig_vec[106]=-0.1874;
	sig_vec[107]=-0.2181;
	sig_vec[108]=-0.2487;
	sig_vec[109]=-0.2790;
	sig_vec[110]=-0.3090;
	sig_vec[111]=-0.3387;
	sig_vec[112]=-0.3681;
	sig_vec[113]=-0.3971;
	sig_vec[114]=-0.4258;
	sig_vec[115]=-0.4540;
	sig_vec[116]=-0.4818;
	sig_vec[117]=-0.5090;
	sig_vec[118]=-0.5358;
	sig_vec[119]=-0.5621;
	sig_vec[120]=-0.5878;
	sig_vec[121]=-0.6129;
	sig_vec[122]=-0.6374;
	sig_vec[123]=-0.6613;
	sig_vec[124]=-0.6845;
	sig_vec[125]=-0.7071;
	sig_vec[126]=-0.7290;
	sig_vec[127]=-0.7501;
	sig_vec[128]=-0.7705;
	sig_vec[129]=-0.7902;
	sig_vec[130]=-0.8090;
	sig_vec[131]=-0.8271;
	sig_vec[132]=-0.8443;
	sig_vec[133]=-0.8607;
	sig_vec[134]=-0.8763;
	sig_vec[135]=-0.8910;
	sig_vec[136]=-0.9048;
	sig_vec[137]=-0.9178;
	sig_vec[138]=-0.9298;
	sig_vec[139]=-0.9409;
	sig_vec[140]=-0.9511;
	sig_vec[141]=-0.9603;
	sig_vec[142]=-0.9686;
	sig_vec[143]=-0.9759;
	sig_vec[144]=-0.9823;
	sig_vec[145]=-0.9877;
	sig_vec[146]=-0.9921;
	sig_vec[147]=-0.9956;
	sig_vec[148]=-0.9980;
	sig_vec[149]=-0.9995;
	sig_vec[150]=-1.0000;
	sig_vec[151]=-0.9995;
	sig_vec[152]=-0.9980;
	sig_vec[153]=-0.9956;
	sig_vec[154]=-0.9921;
	sig_vec[155]=-0.9877;
	sig_vec[156]=-0.9823;
	sig_vec[157]=-0.9759;
	sig_vec[158]=-0.9686;
	sig_vec[159]=-0.9603;
	sig_vec[160]=-0.9511;
	sig_vec[161]=-0.9409;
	sig_vec[162]=-0.9298;
	sig_vec[163]=-0.9178;
	sig_vec[164]=-0.9048;
	sig_vec[165]=-0.8910;
	sig_vec[166]=-0.8763;
	sig_vec[167]=-0.8607;
	sig_vec[168]=-0.8443;
	sig_vec[169]=-0.8271;
	sig_vec[170]=-0.8090;
	sig_vec[171]=-0.7902;
	sig_vec[172]=-0.7705;
	sig_vec[173]=-0.7501;
	sig_vec[174]=-0.7290;
	sig_vec[175]=-0.7071;
	sig_vec[176]=-0.6845;
	sig_vec[177]=-0.6613;
	sig_vec[178]=-0.6374;
	sig_vec[179]=-0.6129;
	sig_vec[180]=-0.5878;
	sig_vec[181]=-0.5621;
	sig_vec[182]=-0.5358;
	sig_vec[183]=-0.5090;
	sig_vec[184]=-0.4818;
	sig_vec[185]=-0.4540;
	sig_vec[186]=-0.4258;
	sig_vec[187]=-0.3971;
	sig_vec[188]=-0.3681;
	sig_vec[189]=-0.3387;
	sig_vec[190]=-0.3090;
	sig_vec[191]=-0.2790;
	sig_vec[192]=-0.2487;
	sig_vec[193]=-0.2181;
	sig_vec[194]=-0.1874;
	sig_vec[195]=-0.1564;
	sig_vec[196]=-0.1253;
	sig_vec[197]=-0.0941;
	sig_vec[198]=-0.0628;
	sig_vec[199]=-0.0314;
}
